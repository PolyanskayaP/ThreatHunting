---
title: "lab4"
author: "Полянская Полина Алексеевна"
format:   
  md:
    output-file: README.md
editor_options: 
  chunk_output_type: inline
---

Исследование метаданных DNS трафика

## Цель

1. Закрепить практические навыки использования языка программирования R для обработки данных
2. Закрепить знания основных функций обработки данных экосистемы tidyverse языка R
3. Закрепить навыки исследования метаданных DNS трафика

## Исходные данные

1.  Ноутбук с ОС Windows 10
2.  RStudio
3.  Пакеты dplyr, tidyverse, readr

## Задание

Используя программный пакет dplyr, освоить анализ DNS логов с помощью языка программирования R.

### Подготовка данных

#### 1. Импортируйте данные DNS 
Был установлен пакет tidyverse, в котором содержится пакет readr 
install.packages("tidyverse") 

```{r}
library(tidyverse)
```
```{r}
library(readr)
```

```{r}
head_df <- read.csv('C:/ThreatHunting/lab4/header.csv')
```
```{r}
head_df
```
```{r}
log <- read_log("C:/ThreatHunting/lab4/dns.log")
head(log, 10)
```

```{r}
df <- read.csv("dns.log", header = FALSE,sep = "\t",encoding = "UTF-8")
```
```{r}
head(df, 10)
```

#### 2. Добавьте пропущенные данные о структуре данных (назначении столбцов)
```{r}
head_df[4, "Field"] <- "dns_proto"
```
```{r}
head_df
```

#### 3. Преобразуйте данные в столбцах в нужный формат
```{r}
field<-head_df[,1]
names(df)<-field

df %>% 
  glimpse()

head(df, 10)
```


#### 4. Просмотрите общую структуру данных с помощью функции glimpse()
```{r}
glimpse(head_df)
```
```{r}
glimpse(df)
```


### Анализ

#### 4. Сколько участников информационного обмена в сети Доброй Организации?
```{r}

```

#### 5. Какое соотношение участников обмена внутри сети и участников обращений к внешним ресурсам?
```{r}

```

#### 6. Найдите топ-10 участников сети, проявляющих наибольшую сетевую активность.
```{r}

```

#### 7. Найдите топ-10 доменов, к которым обращаются пользователи сети и соответственное количество обращений
```{r}

```

#### 8. Опеределите базовые статистические характеристики (функция summary() ) интервала времени между последовательным обращениями к топ-10 доменам.
```{r}

```

#### 9. Часто вредоносное программное обеспечение использует DNS канал в качестве каналауправления, периодически отправляя запросы на подконтрольный злоумышленникам DNS сервер. По периодическим запросам на один и тот же домен можно выявить скрытый DNS канал. Есть ли такие IP адреса в исследуемом датасете?
```{r}

```

### Обогащение данных

#### 10. Определите местоположение (страну, город) и организацию-провайдера для топ-10 доменов. Для этого можно использовать сторонние сервисы, например https://v4.ifconfig.co.
```{r}

```



## Оценка результатов

Задания были успешно решены с помощью библиотеки dplyr, tidyverse, readr. 

## Вывод

Были изучены возможности библиотек tidyverse, readr.